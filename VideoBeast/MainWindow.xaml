<Window
    x:Class="VideoBeast.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Title="VideoBeast">

	<Window.SystemBackdrop>
		<MicaBackdrop />
	</Window.SystemBackdrop>

	<Grid x:Name="RootGrid"
          Loaded="RootGrid_Loaded"
          AllowDrop="True"
          DragOver="RootGrid_DragOver"
          Drop="RootGrid_Drop">

		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="*"/>
			<RowDefinition Height="Auto"/>
		</Grid.RowDefinitions>

		<!-- WinUI Gallery-style TitleBar -->
		<TitleBar x:Name="titleBar"
                  Grid.Row="0"
                  Title="VideoBeast"
                  BackRequested="TitleBar_BackRequested"
                  PaneToggleRequested="TitleBar_PaneToggleRequested"
                  IsPaneToggleButtonVisible="True"
                  IsBackButtonVisible="{x:Bind RootFrame.CanGoBack, Mode=OneWay}">

			<TitleBar.LeftHeader>
				<FontIcon Glyph="&#xE714;" FontSize="14" Margin="0,0,8,0"/>
			</TitleBar.LeftHeader>

			<TitleBar.Content>
				<AutoSuggestBox x:Name="TopSearchBox"
                                Width="360"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Center"
                                PlaceholderText="Search MP4s…"
                                QueryIcon="Find"
                                TextChanged="TopSearchBox_TextChanged"
                                SuggestionChosen="TopSearchBox_SuggestionChosen"
                                QuerySubmitted="TopSearchBox_QuerySubmitted" />
			</TitleBar.Content>
		</TitleBar>

		<!-- Main navigation + frame host -->
		<NavigationView x:Name="NavView"
                        Grid.Row="1"
                        PaneDisplayMode="Left"
                        IsBackButtonVisible="Collapsed"
                        IsPaneToggleButtonVisible="False"
                        IsSettingsVisible="True"
                        SelectionChanged="NavView_SelectionChanged"
                        ItemInvoked="NavView_ItemInvoked"
                        Expanding="NavView_Expanding">

			<Frame x:Name="RootFrame"
                   Navigated="RootFrame_Navigated" />
		</NavigationView>

		<!-- Status -->
		<InfoBar x:Name="StatusBar"
                 Grid.Row="2"
                 Margin="12,0,12,12"
                 IsOpen="False"
                 Severity="Informational"
                 Title="Status"
                 Message="" />
	</Grid>
</Window>
