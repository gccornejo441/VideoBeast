<Page
    x:Class="VideoBeast.Pages.SettingsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

	<ScrollViewer>
		<StackPanel Margin="12" Spacing="12">

			<TextBlock
                FontSize="24"
                FontWeight="SemiBold"
                Text="Settings" />

			<Border
                Padding="12"
                Background="{ThemeResource VB.Card}"
                BorderBrush="{ThemeResource VB.Stroke}"
                BorderThickness="1"
                CornerRadius="18">

				<StackPanel Spacing="10">
					<TextBlock
                        FontSize="16"
                        FontWeight="SemiBold"
                        Text="Playback scaling" />

					<TextBlock
                        Foreground="{ThemeResource VB.TextFaint}"
                        Text="Choose how the video fits inside the player." />

					<RadioButton
                        x:Name="RbFit"
                        Checked="Scaling_Checked"
                        Content="Fit (keep aspect ratio, black bars)" />

					<RadioButton
                        x:Name="RbFill"
                        Checked="Scaling_Checked"
                        Content="Fill (crop to fill, no bars)" />

					<RadioButton
                        x:Name="RbStretch"
                        Checked="Scaling_Checked"
                        Content="Stretch (fill, may distort)" />
				</StackPanel>
			</Border>

			<Border
                Padding="12"
                Background="{ThemeResource VB.Card}"
                BorderBrush="{ThemeResource VB.Stroke}"
                BorderThickness="1"
                CornerRadius="18">

				<StackPanel Spacing="10">
					<TextBlock
                        FontSize="16"
                        FontWeight="SemiBold"
                        Text="Local AI (Ollama)" />

					<TextBlock
                        Foreground="{ThemeResource VB.TextFaint}"
                        TextWrapping="Wrap"
                        Text="Enable AI-powered commands in the search box. Type '>' followed by a command (e.g., '>play nature video'). Requires Ollama running at http://localhost:11434" />

					<ToggleSwitch
                        x:Name="OllamaEnabledToggle"
                        Header="Enable Local AI"
                        Toggled="OllamaEnabled_Toggled" />

					<TextBox
                        x:Name="OllamaBaseUrlBox"
                        Header="Ollama Base URL"
                        PlaceholderText="http://localhost:11434"
                        TextChanged="OllamaBaseUrl_Changed" />

					<ComboBox
                        x:Name="OllamaModelCombo"
                        Header="AI Model"
                        PlaceholderText="Select a model"
                        MinWidth="300"
                        SelectionChanged="OllamaModel_SelectionChanged" />

					<Button
                        x:Name="RefreshModelsButton"
                        Content="Refresh Models"
                        Click="RefreshModels_Click" />

					<TextBlock
                        x:Name="OllamaStatusText"
                        Foreground="{ThemeResource VB.TextFaint}"
                        TextWrapping="Wrap" />
				</StackPanel>
			</Border>

			<StackPanel
                HorizontalAlignment="Right"
                Orientation="Horizontal"
                Spacing="8">
				<Button Click="Reset_Click" Content="Reset" />
				<Button
                    Click="Save_Click"
                    Content="Save"
                    Style="{StaticResource VB.AccentButtonStyle}" />
			</StackPanel>

		</StackPanel>
	</ScrollViewer>
</Page>
